<!DOCTYPE html>

<head>
	<meta charset="utf-8">
	<title>Пример 1606: Въртене</title>

	<script src="suica.min.js"></script>

	<script>
		function main()
		{
			info = document.getElementById('info');
			
			p = new Suica()
			p.nextFrame = drawFlower;
			
			// рисуване на хоризонталната ос
			line([0,0,0],[1,0,0]).custom({color:[0,0,0]});

			// рисуване на вертикална ос
			line([0,0,0],[0,1,0]).custom({color:[0,0,0]});

			// рисуване на винаги вертикална ос
			l = ray([0,0,0],[0,1,0]).custom({color:[0,0.5,1]});

			// заделяне на масив от n точки
			n = 220;
			q = [];
			for (var i=0; i<n; i++)
				q[i] = point([100,0,0]).custom({
					color: [1,0,0],
					pointSize: 20});
		}		
		
		i = 0;
		function drawFlower()
		{
			x = i/40;
			r = 3+2*Math.sin(5*x);
			l.to = [Math.cos(x),Math.sin(x),0];
			lookAt( [0,0,20], [0,0,0], [Math.cos(x),Math.sin(x),0] );
			q[i%n].center = [r*Math.cos(x),r*Math.sin(x),0];
			i++;
		}
	</script>	
</head>

<body onload="main()">
	<noscript>
		Искаме JavaScript, но няма!
	</noscript>
	
	<canvas width="740" height="350" style="border: solid 1px Black;">
		Искаме canvas, но няма!
	</canvas>
</body>
