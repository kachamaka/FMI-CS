<!DOCTYPE html>

<head>
	<meta charset="utf-8">
	<title>Пример 1605: Отдалечаване</title>

	<script src="suica.min.js"></script>

	<script>
		function main()
		{
			info = document.getElementById('info');
			
			p = new Suica()
			p.nextFrame = drawSpiral;
			
			// рисуване на хоризонталната ос
			line([0,0,0],[1,0,0]).custom({color:[0,0,0]});

			// рисуване на вертикалните деления
			for (var x=-200; x<=200; x+=2)
				segment([x,0.5,0],[x,-0.5,0]).custom({color:[0,0,0]});

			// заделяне на масив от n точки
			n = 250;
			q = [];
			for (var i=0; i<n; i++)
				q[i] = point([0,0,0]).custom({
					color: [1,0,0],
					pointSize: 20});
		}		
		
		i = 0;
		r = 0.01;
		function drawSpiral()
		{
			r = r*1.01;
			lookAt( [0,0,1+4*r], [0,0,0], [0,1,0] );
			x = i/10;
			q[i%n].center = [r*Math.cos(x),r*Math.sin(x),0];
			i++;
		}
	</script>	
</head>

<body onload="main()">
	<noscript>
		Искаме JavaScript, но няма!
	</noscript>
	
	<canvas width="740" height="350" style="border: solid 1px Black;">
		Искаме canvas, но няма!
	</canvas>
</body>
