<!DOCTYPE html>

<head>
	<meta charset="utf-8">
	<title>Пример 1702: Мека връзка</title>

	<script src="suica.min.js"></script>

	<script>
		function main()
		{
			p = new Suica();
			p.nextFrame = animate;
			orthographic(-1000,1000);
			lookAt([0,0,100],[0,0,0],[0,1,0]);
			
			p.gl.canvas.addEventListener('mousemove',mouseMove,false);
			s = sphere([0,0,0],50);
		}

		var x=0, y=0;
		
		function mouseMove(event)
		{
			x = event.clientX-event.target.offsetLeft-event.target.offsetWidth/2;
			y = -(event.clientY-event.target.offsetTop-event.target.offsetHeight/2);
		}
		
		function animate()
		{
			var k = 0.92;
			s.center[0] = s.center[0]*k+(1-k)*x;
			s.center[1] = s.center[1]*k+(1-k)*y;
		}
	</script>	
</head>

<body onload="main()">
	<noscript>
		Искаме JavaScript, но няма!
	</noscript>
	
	<canvas width="740" height="350" style="border: solid 1px Black;">
		Искаме canvas, но няма!
	</canvas>
</body>
