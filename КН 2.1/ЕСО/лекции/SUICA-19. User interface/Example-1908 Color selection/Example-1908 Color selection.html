<!DOCTYPE html>

<head>
	<meta charset="utf-8">
	<title>Пример 1908: Избор на цвят</title>

	<script src="suica.min.js"></script>

	<style>
		body {position: absolute; }
		h3 {margin:0.25em;}
		.panel {
			position: absolute;
			left: 10px;
			top: 10px;
			border: solid 1px black;
			padding: 0 0 0.5em 0;
			background-color: LightGray;
			text-align: center;
		}
	</style>
	
	<script>
		function main()
		{
			p = new Suica();
			background([0.6,0.6,0.6]);

			c = [];
			for (var i=0; i<100; i++)
			{
				c.push(cube([random(-75,75),random(-75,75),random(-55,55)],10).custom({
					focus: [random(-1,1),random(-1,1),random(-1,1)],
					spin: random(0,2*Math.PI),
					color: [1,1,1]
				}));
			}
			p.nextFrame = animate;
		}
			
		cos = Math.cos;
		sin = Math.sin;
		
		function animate()
		{	
			lookAt( [200*cos(Suica.time),
					 200*sin(Suica.time),
					 30], [0,0,0], [0,0,1] );
		}
		
		function doIt()
		{
			var elem = document.getElementById('col');
			var r = parseInt(elem.value.substring(1,3),16);
			var g = parseInt(elem.value.substring(3,5),16);
			var b = parseInt(elem.value.substring(5,7),16);
			for (var i=0; i<100; i++)
				c[i].color = [r/255,g/255,b/255];
		}
		
	</script>	
</head>

<body onload="main()">
	<noscript>
		Искаме JavaScript, но няма!
	</noscript>
	
	<div class="panel">
		<h3>Изберете цвят</h3>
		<input type="color" id="col" value="#ffffff" onchange="doIt()">
	</div>
	<canvas width="740" height="350" style="border: solid 1px Black;">
		Искаме canvas, но няма!
	</canvas>
	
</body>
